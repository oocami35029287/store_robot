<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from mars_lite_with_gripper.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="mars_lite">
  <gazebo reference="base_link_to_tm_base">
    <disableFixedJointLumping>true</disableFixedJointLumping>
  </gazebo>
  <!-- <gazebo reference='footprint_joint'>
        <disableFixedJointLumping>true</disableFixedJointLumping>
        <preserveFixedJoint>true</preserveFixedJoint>
    </gazebo> -->
  <gazebo reference="base_link">
    <mu1 value="0.01"/>
    <mu2 value="0.01"/>
    <kp value="1000000.0"/>
    <kd value="10000.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <!-- Uncomment for simulating the 'chatter' moving behavior -->
  <gazebo reference="left_wheel">
    <mu1 value="1.5"/>
    <mu2 value="1.5"/>
    <kp value="1000000.0"/>
    <kd value="10000.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <gazebo reference="right_wheel">
    <mu1 value="1.5"/>
    <mu2 value="1.5"/>
    <kp value="1000000.0"/>
    <kd value="10000.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <transmission name="left_wheel_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="left_wheel_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="left_wheel">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="right_wheel_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="right_wheel_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="right_wheel">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="differential_drive_controller">
      <robotNamespace>/</robotNamespace>
      <legacyMode>false</legacyMode>
      <publishWheelTF>false</publishWheelTF>
      <publishWheelJointState>false</publishWheelJointState>
      <odometrySource>encoder</odometrySource>
      <publishOdomTF>true</publishOdomTF>
      <alwaysOn>true</alwaysOn>
      <updateRate>40</updateRate>
      <leftJoint>left_wheel_joint</leftJoint>
      <rightJoint>right_wheel_joint</rightJoint>
      <wheelSeparation>0.393</wheelSeparation>
      <wheelDiameter>0.2032</wheelDiameter>
      <wheelTorque>10.0</wheelTorque>
      <wheelAcceleration>0.5</wheelAcceleration>
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom_filtered</odometryTopic>
      <odometryFrame>/odom</odometryFrame>
      <robotBaseFrame>/base_link</robotBaseFrame>
      <rosDebugLevel>na</rosDebugLevel>
      <publishTf>1</publishTf>
    </plugin>
  </gazebo>
  <material name="blue">
    <color rgba="0 0 0.8 1"/>
  </material>
  <material name="black">
    <color rgba="0 0 0 1"/>
  </material>
  <material name="white">
    <color rgba="1 1 1 1"/>
  </material>
  <material name="lightgrey">
    <color rgba="0.7 0.7 0.7 1.0"/>
  </material>
  <!-- Base Link -->
  <link name="base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/mob_plat/mob_plat.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.235"/>
      <geometry>
        <box size="0.63 0.51 0.29"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.235"/>
      <mass value="80.0"/>
      <inertia ixx="2.29466666667" ixy="0" ixz="0" iyy="3.20666666667" iyz="0" izz="3.20666666667"/>
    </inertial>
  </link>
  <!-- Dummy footprint link -->
  <link name="base_footprint"/>
  <joint name="footprint_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 -0.1016"/>
    <parent link="base_link"/>
    <child link="base_footprint"/>
  </joint>
  <link name="front_left_caster_support">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <geometry>
        <cylinder length="0.2032" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <mass value="1.0"/>
      <inertia ixx="0.00359710333333" ixy="0" ixz="0" iyy="0.00359710333333" iyz="0" izz="0.0003125"/>
    </inertial>
  </link>
  <joint name="front_left_caster_support_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.225 0.17 0.2032"/>
    <parent link="base_link"/>
    <child link="front_left_caster_support"/>
  </joint>
  <gazebo reference="front_left_caster_support">
    <mu1 value="0.01"/>
    <mu2 value="0.01"/>
    <kp value="1000000.0"/>
    <kd value="10000.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <link name="front_right_caster_support">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <geometry>
        <cylinder length="0.2032" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <mass value="1.0"/>
      <inertia ixx="0.00359710333333" ixy="0" ixz="0" iyy="0.00359710333333" iyz="0" izz="0.0003125"/>
    </inertial>
  </link>
  <joint name="front_right_caster_support_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.225 -0.17 0.2032"/>
    <parent link="base_link"/>
    <child link="front_right_caster_support"/>
  </joint>
  <gazebo reference="front_right_caster_support">
    <mu1 value="0.01"/>
    <mu2 value="0.01"/>
    <kp value="1000000.0"/>
    <kd value="10000.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <link name="back_left_caster_support">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <geometry>
        <cylinder length="0.2032" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <mass value="1.0"/>
      <inertia ixx="0.00359710333333" ixy="0" ixz="0" iyy="0.00359710333333" iyz="0" izz="0.0003125"/>
    </inertial>
  </link>
  <joint name="back_left_caster_support_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.225 0.17 0.2032"/>
    <parent link="base_link"/>
    <child link="back_left_caster_support"/>
  </joint>
  <gazebo reference="back_left_caster_support">
    <mu1 value="0.01"/>
    <mu2 value="0.01"/>
    <kp value="1000000.0"/>
    <kd value="10000.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <link name="back_right_caster_support">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <geometry>
        <cylinder length="0.2032" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.2032"/>
      <mass value="1.0"/>
      <inertia ixx="0.00359710333333" ixy="0" ixz="0" iyy="0.00359710333333" iyz="0" izz="0.0003125"/>
    </inertial>
  </link>
  <joint name="back_right_caster_support_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.225 -0.17 0.2032"/>
    <parent link="base_link"/>
    <child link="back_right_caster_support"/>
  </joint>
  <gazebo reference="back_right_caster_support">
    <mu1 value="0.01"/>
    <mu2 value="0.01"/>
    <kp value="1000000.0"/>
    <kd value="10000.0"/>
    <fdir1 value="1 0 0"/>
  </gazebo>
  <link name="right_wheel">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/mob_plat/wheel.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.03" radius="0.1016"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="10"/>
      <inertia ixx="0.0265564" ixy="0" ixz="0" iyy="0.0265564" iyz="0" izz="0.0516128"/>
    </inertial>
  </link>
  <joint name="right_wheel_joint" type="continuous">
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <parent link="base_link"/>
    <child link="right_wheel"/>
    <origin rpy="0 0 0" xyz="0 -0.1965 0"/>
  </joint>
  <link name="left_wheel">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/mob_plat/wheel.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.03" radius="0.1016"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="10"/>
      <inertia ixx="0.0265564" ixy="0" ixz="0" iyy="0.0265564" iyz="0" izz="0.0516128"/>
    </inertial>
  </link>
  <joint name="left_wheel_joint" type="continuous">
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <parent link="base_link"/>
    <child link="left_wheel"/>
    <origin rpy="0 0 0" xyz="0 0.1965 0"/>
  </joint>
  <!-- Robot arm contrl box -->
  <link name="tm_cntrl_box">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.29 0.43 0.23"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="5.0"/>
      <inertia ixx="0.0990833333333" ixy="0" ixz="0" iyy="0.0570833333333" iyz="0" izz="0.0570833333333"/>
    </inertial>
  </link>
  <joint name="base_link_to_cntrl_box" type="fixed">
    <axis rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="tm_cntrl_box"/>
    <origin rpy="0 0 0" xyz="-0.125 0 0.485"/>
  </joint>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="ros_control">
      <!-- <robotNamespace>/</robotNamespace> -->
      <!-- <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType> -->
    </plugin>
    <!--
    <plugin name="gazebo_ros_power_monitor_controller" filename="libgazebo_ros_power_monitor.so">
      <alwaysOn>true</alwaysOn>
      <updateRate>1.0</updateRate>
      <timeout>5</timeout>
      <powerStateTopic>power_state</powerStateTopic>
      <powerStateRate>10.0</powerStateRate>
      <fullChargeCapacity>87.78</fullChargeCapacity>     
      <dischargeRate>-474</dischargeRate>
      <chargeRate>525</chargeRate>
      <dischargeVoltage>15.52</dischargeVoltage>
      <chargeVoltage>16.41</chargeVoltage>
    </plugin>
-->
  </gazebo>
  <!-- Kinematic model -->
  <!-- Properties from tmcontrol.conf -->
  <!--
      DH for TM5-700:
      a = [0.0000, 0.3290, 0.3115,  0.0000,  0.0000,  0.0000]
      d = [0.1452,  0.0000,  0.0000,  -0.1223,  0.1060,  0.11315]
      alpha = [-0.5*pi, 0, 0, 0.5*pi, 0.5*pi, 0]
      q_home_offset = [0, -0.5*pi, 0, 0.5*pi, 0, 0]
      joint_direction = [-1, -1, 1, -1, 1, 1]
      mass = [4.5, 10.5, 2.1, 1.45, 1.45, 0.4]
      center_of_mass = [ [0, -0.02561, 0.00193], [0.2125, 0, 0.11336], [0.11993, 0.0, 0.0265], [0, -0.0018, 0.01634], [0, 0.0018,0.01634], [0, 0, -0.001159] ](tm900)
    -->
  <!-- 0.1297 -->
  <!--xacro:property name="ee_length" value="${tm_d6 - wrist_3_length}" /-->
  <transmission name="tm_shoulder_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tm_shoulder_1_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="tm_shoulder_1_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tm_shoulder_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tm_shoulder_2_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="tm_shoulder_2_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tm_elbow_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tm_elbow_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="tm_elbow_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tm_wrist_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tm_wrist_1_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="tm_wrist_1_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tm_wrist_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tm_wrist_2_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="tm_wrist_2_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tm_wrist_3_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tm_wrist_3_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="tm_wrist_3_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="tm_base">
    <material>Gazebo/Grey</material>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="tm_shoulder_1_link">
    <material>Gazebo/DarkGrey</material>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="tm_arm_1_link">
    <material>Gazebo/DarkGrey</material>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="tm_arm_2_link">
    <material>Gazebo/DarkGrey</material>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="tm_wrist_1_link">
    <material>Gazebo/DarkGrey</material>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="tm_wrist_2_link">
    <material>Gazebo/DarkGrey</material>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="tm_wrist_3_link">
    <material>Gazebo/Grey</material>
    <selfCollide>true</selfCollide>
  </gazebo>
  <!--
    <gazebo reference="${prefix}ee_link">
      <selfCollide>true</selfCollide>
    </gazebo>
    -->
  <link name="tm_base_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/tm5_900/visual/tm5_base.stl"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/tm5_900/collision/tm5_base_c.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.00110833289" ixy="0.0" ixz="0.0" iyy="0.0018" iyz="0.0" izz="0.00110833289"/>
    </inertial>
  </link>
  <joint name="tm_shoulder_1_joint" type="revolute">
    <parent link="tm_base_link"/>
    <child link="tm_shoulder_1_link"/>
    <origin rpy="0 0 0" xyz="0 0.1452 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-4.71238898038" upper="4.71238898038" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="tm_shoulder_1_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/tm5_900/visual/tm_400w_01.stl"/>
      </geometry>
      <material name="DarkOlive">
        <color rgba="0.3 0.3 0.25 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/tm5_900/collision/tm_400w_01_c.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="4.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.012487495005" ixy="0.0" ixz="0.0" iyy="0.0081" iyz="0.0" izz="0.012487495005"/>
    </inertial>
  </link>
  <joint name="tm_shoulder_2_joint" type="revolute">
    <parent link="tm_shoulder_1_link"/>
    <child link="tm_arm_1_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.146"/>
    <axis xyz="0 0 -1"/>
    <limit effort="150.0" lower="-3.14159265359" upper="3.14159265359" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="tm_arm_1_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/tm5_700/visual/tm5_700_arm1.stl"/>
      </geometry>
      <material name="DarkOlive">
        <color rgba="0.3 0.3 0.25 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/tm5_700/collision/tm5_700_arm1_c.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="11.0"/>
      <origin rpy="0 0 0" xyz="0 0.1645 0"/>
      <inertia ixx="0.109120873018" ixy="0.0" ixz="0.0" iyy="0.0198" iyz="0.0" izz="0.109120873018"/>
    </inertial>
  </link>
  <joint name="tm_elbow_joint" type="revolute">
    <parent link="tm_arm_1_link"/>
    <child link="tm_arm_2_link"/>
    <origin rpy="0 0 0" xyz="0 0.329 -0.1297"/>
    <axis xyz="0 0 -1"/>
    <limit effort="150.0" lower="-3.14159265359" upper="3.14159265359" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="tm_arm_2_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/tm5_700/visual/tm5_700_arm2.stl"/>
      </geometry>
      <material name="DarkOlive">
        <color rgba="0.3 0.3 0.25 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/tm5_700/collision/tm5_700_arm2_c.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.5"/>
      <origin rpy="0 0 0" xyz="0 0.15575 0"/>
      <inertia ixx="0.0214806684911" ixy="0.0" ixz="0.0" iyy="0.00253125" iyz="0.0" izz="0.0214806684911"/>
    </inertial>
  </link>
  <joint name="tm_wrist_1_joint" type="revolute">
    <parent link="tm_arm_2_link"/>
    <child link="tm_wrist_1_link"/>
    <origin rpy="0 0 0" xyz="0 0.3115 0.106"/>
    <axis xyz="0 0 -1"/>
    <limit effort="150.0" lower="-3.14159265359" upper="3.14159265359" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="tm_wrist_1_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/tm5_900/visual/tm_100w_01.stl"/>
      </geometry>
      <material name="DarkOlive">
        <color rgba="0.3 0.3 0.25 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/tm5_900/collision/tm_100w_01_c.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.45"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.00116906203238" ixy="0.0" ixz="0.0" iyy="0.001468125" iyz="0.0" izz="0.00116906203238"/>
    </inertial>
  </link>
  <joint name="tm_wrist_2_joint" type="revolute">
    <parent link="tm_wrist_1_link"/>
    <child link="tm_wrist_2_link"/>
    <origin rpy="0 0 0" xyz="0 0.106 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-3.14159265359" upper="3.14159265359" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="tm_wrist_2_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/tm5_900/visual/tm_100w_02.stl"/>
      </geometry>
      <material name="DarkOlive">
        <color rgba="0.3 0.3 0.25 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/tm5_900/collision/tm_100w_02_c.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.45"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.00247406151038" ixy="0.0" ixz="0.0" iyy="0.00247406151038" iyz="0.0" izz="0.001468125"/>
    </inertial>
  </link>
  <joint name="tm_wrist_3_joint" type="revolute">
    <parent link="tm_wrist_2_link"/>
    <child link="tm_wrist_3_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.11315"/>
    <axis xyz="0 0 1"/>
    <limit effort="150.0" lower="-4.71238898038" upper="4.71238898038" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="tm_wrist_3_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/tm5_900/visual/tm_ee.stl"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/tm5_900/collision/tm_ee_c.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.4"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000682499727" ixy="0.0" ixz="0.0" iyy="0.000682499727" iyz="0.0" izz="0.000405"/>
    </inertial>
  </link>
  <joint name="tm_flange_fixed_joint" type="fixed">
    <parent link="tm_wrist_3_link"/>
    <child link="tm_flange_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="tm_flange_link">
    </link>
  <!-- ROS base to TM 'base_link' Coordinates transform -->
  <link name="tm_base"/>
  <joint name="tm_base-base_link" type="fixed">
    <parent link="tm_base"/>
    <child link="tm_base_link"/>
    <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
    <!-- Note: 0.5 * pi -->
  </joint>
  <!-- Frame coincident with all-zeros TCP on TM controller -->
  <link name="tm_tool0"/>
  <joint name="tm_flange_link-tool0" type="fixed">
    <parent link="tm_flange_link"/>
    <child link="tm_tool0"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="base_link_to_tm_base" type="fixed">
    <parent link="base_link"/>
    <child link="tm_base"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.35 0.0 0.37"/>
  </joint>
  <!-- Dummy merged laser frame -->
  <link name="merged_laser_frame"/>
  <joint name="base_link_to_merged_laser_frame" type="fixed">
    <parent link="base_link"/>
    <child link="merged_laser_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="back_laser_joint" type="fixed">
    <origin rpy="3.14159265359 0 3.14159265359" xyz="-0.285 0.00 0.05"/>
    <parent link="base_link"/>
    <child link="back_laser_frame"/>
  </joint>
  <link name="back_laser_frame">
    <inertial>
      <mass value="0.270"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="2.632e-4" ixy="0" ixz="0" iyy="2.632e-4" iyz="0" izz="1.62e-4"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/hokuyo_utm30lx/hokuyo_utm_30lx.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.0115"/>
      <geometry>
        <box size="0.058 0.058 0.087"/>
        <!--<mesh filename="package://hector_sensors_description/meshes/hokuyo_utm30lx/hokuyo_utm_30lx.stl"/>-->
      </geometry>
    </collision>
  </link>
  <gazebo reference="back_laser_frame">
    <sensor name="back_laser" type="ray">
      <always_on>true</always_on>
      <update_rate>40</update_rate>
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <ray>
        <scan>
          <horizontal>
            <samples>1081</samples>
            <resolution>1</resolution>
            <min_angle>-1.57079632679</min_angle>
            <max_angle>1.57079632679</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.2</min>
          <max>30.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.004</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_back_laser_controller">
        <topicName>back_scan</topicName>
        <frameName>back_laser_frame</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="front_laser_joint" type="fixed">
    <origin rpy="-3.14159265359 0 0" xyz="0.285 0.00 0.05"/>
    <parent link="base_link"/>
    <child link="front_laser_frame"/>
  </joint>
  <link name="front_laser_frame">
    <inertial>
      <mass value="0.270"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="2.632e-4" ixy="0" ixz="0" iyy="2.632e-4" iyz="0" izz="1.62e-4"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/hokuyo_utm30lx/hokuyo_utm_30lx.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.0115"/>
      <geometry>
        <box size="0.058 0.058 0.087"/>
        <!--<mesh filename="package://hector_sensors_description/meshes/hokuyo_utm30lx/hokuyo_utm_30lx.stl"/>-->
      </geometry>
    </collision>
  </link>
  <gazebo reference="front_laser_frame">
    <sensor name="front_laser" type="ray">
      <always_on>true</always_on>
      <update_rate>40</update_rate>
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <ray>
        <scan>
          <horizontal>
            <samples>1081</samples>
            <resolution>1</resolution>
            <min_angle>-1.57079632679</min_angle>
            <max_angle>1.57079632679</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.2</min>
          <max>30.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.004</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_front_laser_controller">
        <topicName>front_scan</topicName>
        <frameName>front_laser_frame</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="robotiq_85_base_joint" type="fixed">
    <parent link="tm_flange_link"/>
    <child link="robotiq_85_base_link"/>
    <origin rpy="-1.57079632679 -1.57079632679 0" xyz="0 0 0"/>
  </joint>
  <link name="robotiq_85_base_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_base_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_base_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.636951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000380" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.001110" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.001171"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_knuckle_joint" type="revolute">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_left_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="3.14159265359 0.0 0.0" xyz="0.05490451627 0.03060114443 0.0"/>
    <limit effort="1000" lower="0.0" upper="0.80285" velocity="0.5"/>
  </joint>
  <joint name="robotiq_85_right_knuckle_joint" type="continuous">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_right_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.05490451627 -0.03060114443 0.0"/>
    <limit effort="1000" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint"/>
  </joint>
  <link name="robotiq_85_left_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.018491"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000009" ixy="-0.000001" ixz="0.000000" iyx="-0.000001" iyy="0.000001" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000010"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.018491"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000009" ixy="-0.000001" ixz="0.000000" iyx="-0.000001" iyy="0.000001" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000010"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_finger_joint" type="fixed">
    <parent link="robotiq_85_left_knuckle_link"/>
    <child link="robotiq_85_left_finger_link"/>
    <origin rpy="0 0 0" xyz="-0.00408552455 -0.03148604435 0.0"/>
  </joint>
  <joint name="robotiq_85_right_finger_joint" type="fixed">
    <parent link="robotiq_85_right_knuckle_link"/>
    <child link="robotiq_85_right_finger_link"/>
    <origin rpy="0 0 0" xyz="-0.00408552455 -0.03148604435 0.0"/>
  </joint>
  <link name="robotiq_85_left_finger_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_finger_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_finger_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.027309"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000003" ixy="-0.000002" ixz="0.000000" iyx="-0.000002" iyy="0.000021" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000020"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_finger_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_finger_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_finger_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.027309"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000003" ixy="-0.000002" ixz="0.000000" iyx="-0.000002" iyy="0.000021" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000020"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_inner_knuckle_joint" type="continuous">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_left_inner_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="3.14159265359 0.0 0.0" xyz="0.06142 0.0127 0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" offset="0"/>
  </joint>
  <joint name="robotiq_85_right_inner_knuckle_joint" type="continuous">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_right_inner_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0 0 0" xyz="0.06142 -0.0127 0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" offset="0"/>
  </joint>
  <link name="robotiq_85_left_inner_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/visual/gripper/robotiq_85_inner_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_inner_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.029951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000039" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000035"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_inner_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_inner_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_inner_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.029951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000039" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000035"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_finger_tip_joint" type="continuous">
    <parent link="robotiq_85_left_inner_knuckle_link"/>
    <child link="robotiq_85_left_finger_tip_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.04303959807 -0.03759940821 0.0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" multiplier="-1"/>
  </joint>
  <joint name="robotiq_85_right_finger_tip_joint" type="continuous">
    <parent link="robotiq_85_right_inner_knuckle_link"/>
    <child link="robotiq_85_right_finger_tip_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.04303959807 -0.03759940821  0.0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" multiplier="-1"/>
  </joint>
  <link name="robotiq_85_left_finger_tip_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_finger_tip_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_finger_tip_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.019555"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000002" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000006"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_finger_tip_link">
    <visual>
      <geometry>
        <mesh filename="package://meshes/gripper/visual/robotiq_85_finger_tip_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meshes/gripper/collision/robotiq_85_finger_tip_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.019555"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000002" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000006"/>
    </inertial>
  </link>
  <!-- Improve grasping physics -->
  <gazebo reference="robotiq_85_left_finger_tip_link">
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="robotiq_85_right_finger_tip_link">
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <minDepth>0.001</minDepth>
  </gazebo>
  <transmission name="robotiq_85_left_knuckle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="robotiq_85_left_knuckle_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <!-- <hardwareInterface>EffortJointInterface</hardwareInterface> -->
    </joint>
    <actuator name="robotiq_85_left_knuckle_motor">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <!-- <hardwareInterface>EfforJointInterface</hardwareInterface> -->
    </actuator>
  </transmission>
  <!-- Mimic joints -->
  <gazebo>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_1">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_right_knuckle_joint</mimicJoint>
    </plugin>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_2">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_left_inner_knuckle_joint</mimicJoint>
    </plugin>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_3">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_right_inner_knuckle_joint</mimicJoint>
    </plugin>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_4">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_left_finger_tip_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_5">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_right_finger_tip_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
  </gazebo>
</robot>

